warning: ignoring template "/mnt/usb-drive/Development/elixir/grocery_planner/lib/grocery_planner_web/live/auth/sign_in_live.html.heex" because the LiveView GroceryPlannerWeb.Auth.SignInLive defines a render/1 function
  lib/grocery_planner_web/live/auth/sign_in_live.ex:1: GroceryPlannerWeb.Auth.SignInLive (module)

Getting extensions in current project...
Running setup for AshPostgres.DataLayer...
Running ExUnit with seed: 189408, max_cases: 16

    warning: variable "view" is unused (if the variable is not meant to be used, prefix it with an underscore)
    │
 22 │       {:ok, view, html} = live(conn, "/analytics")
    │             ~~~~
    │
    └─ test/grocery_planner_web/live/analytics_live_test.exs:22:13: GroceryPlannerWeb.AnalyticsLiveTest."test Analytics Dashboard renders dashboard with empty state"/1

Categories before load: [
  %GroceryPlanner.Inventory.Category{
    id: "cb485453-863d-4ff9-87b5-bb65887535a3",
    name: "Test Category -576460752303418687",
    icon: nil,
    sort_order: 0,
    account_id: "bdfd395c-bcb2-45de-a29a-d1fa46baa661",
    created_at: ~U[2025-12-12 09:15:31.758946Z],
    updated_at: ~U[2025-12-12 09:15:31.758946Z],
    item_count: #Ash.NotLoaded<:aggregate, field: :item_count>,
    account: #Ash.NotLoaded<:relationship, field: :account>,
    grocery_items: #Ash.NotLoaded<:relationship, field: :grocery_items>,
    __meta__: #Ecto.Schema.Metadata<:loaded, "categories">
  },
  %GroceryPlanner.Inventory.Category{
    id: "fe00b333-08f7-4d87-8901-b5ce03c9127a",
    name: "Test Category -576460752303418751",
    icon: nil,
    sort_order: 0,
    account_id: "bdfd395c-bcb2-45de-a29a-d1fa46baa661",
    created_at: ~U[2025-12-12 09:15:31.751987Z],
    updated_at: ~U[2025-12-12 09:15:31.751987Z],
    item_count: #Ash.NotLoaded<:aggregate, field: :item_count>,
    account: #Ash.NotLoaded<:relationship, field: :account>,
    grocery_items: #Ash.NotLoaded<:relationship, field: :grocery_items>,
    __meta__: #Ecto.Schema.Metadata<:loaded, "categories">
  }
]
Categories after load: [
  %GroceryPlanner.Inventory.Category{
    id: "cb485453-863d-4ff9-87b5-bb65887535a3",
    name: "Test Category -576460752303418687",
    icon: nil,
    sort_order: 0,
    account_id: "bdfd395c-bcb2-45de-a29a-d1fa46baa661",
    created_at: ~U[2025-12-12 09:15:31.758946Z],
    updated_at: ~U[2025-12-12 09:15:31.758946Z],
    item_count: 0,
    account: #Ash.NotLoaded<:relationship, field: :account>,
    grocery_items: #Ash.NotLoaded<:relationship, field: :grocery_items>,
    __meta__: #Ecto.Schema.Metadata<:loaded, "categories">
  },
  %GroceryPlanner.Inventory.Category{
    id: "fe00b333-08f7-4d87-8901-b5ce03c9127a",
    name: "Test Category -576460752303418751",
    icon: nil,
    sort_order: 0,
    account_id: "bdfd395c-bcb2-45de-a29a-d1fa46baa661",
    created_at: ~U[2025-12-12 09:15:31.751987Z],
    updated_at: ~U[2025-12-12 09:15:31.751987Z],
    item_count: 0,
    account: #Ash.NotLoaded<:relationship, field: :account>,
    grocery_items: #Ash.NotLoaded<:relationship, field: :grocery_items>,
    __meta__: #Ecto.Schema.Metadata<:loaded, "categories">
  }
]
Category Breakdown: [
  %{count: 0, name: "Test Category -576460752303418687"},
  %{count: 0, name: "Test Category -576460752303418751"}
]
Categories before load: [
  %GroceryPlanner.Inventory.Category{
    id: "cb485453-863d-4ff9-87b5-bb65887535a3",
    name: "Test Category -576460752303418687",
    icon: nil,
    sort_order: 0,
    account_id: "bdfd395c-bcb2-45de-a29a-d1fa46baa661",
    created_at: ~U[2025-12-12 09:15:31.758946Z],
    updated_at: ~U[2025-12-12 09:15:31.758946Z],
    item_count: #Ash.NotLoaded<:aggregate, field: :item_count>,
    account: #Ash.NotLoaded<:relationship, field: :account>,
    grocery_items: #Ash.NotLoaded<:relationship, field: :grocery_items>,
    __meta__: #Ecto.Schema.Metadata<:loaded, "categories">
  },
  %GroceryPlanner.Inventory.Category{
    id: "fe00b333-08f7-4d87-8901-b5ce03c9127a",
    name: "Test Category -576460752303418751",
    icon: nil,
    sort_order: 0,
    account_id: "bdfd395c-bcb2-45de-a29a-d1fa46baa661",
    created_at: ~U[2025-12-12 09:15:31.751987Z],
    updated_at: ~U[2025-12-12 09:15:31.751987Z],
    item_count: #Ash.NotLoaded<:aggregate, field: :item_count>,
    account: #Ash.NotLoaded<:relationship, field: :account>,
    grocery_items: #Ash.NotLoaded<:relationship, field: :grocery_items>,
    __meta__: #Ecto.Schema.Metadata<:loaded, "categories">
  }
]
Categories after load: [
  %GroceryPlanner.Inventory.Category{
    id: "cb485453-863d-4ff9-87b5-bb65887535a3",
    name: "Test Category -576460752303418687",
    icon: nil,
    sort_order: 0,
    account_id: "bdfd395c-bcb2-45de-a29a-d1fa46baa661",
    created_at: ~U[2025-12-12 09:15:31.758946Z],
    updated_at: ~U[2025-12-12 09:15:31.758946Z],
    item_count: 0,
    account: #Ash.NotLoaded<:relationship, field: :account>,
    grocery_items: #Ash.NotLoaded<:relationship, field: :grocery_items>,
    __meta__: #Ecto.Schema.Metadata<:loaded, "categories">
  },
  %GroceryPlanner.Inventory.Category{
    id: "fe00b333-08f7-4d87-8901-b5ce03c9127a",
    name: "Test Category -576460752303418751",
    icon: nil,
    sort_order: 0,
    account_id: "bdfd395c-bcb2-45de-a29a-d1fa46baa661",
    created_at: ~U[2025-12-12 09:15:31.751987Z],
    updated_at: ~U[2025-12-12 09:15:31.751987Z],
    item_count: 0,
    account: #Ash.NotLoaded<:relationship, field: :account>,
    grocery_items: #Ash.NotLoaded<:relationship, field: :grocery_items>,
    __meta__: #Ecto.Schema.Metadata<:loaded, "categories">
  }
]
Category Breakdown: [
  %{count: 0, name: "Test Category -576460752303418687"},
  %{count: 0, name: "Test Category -576460752303418751"}
]


  1) test Analytics Dashboard renders dashboard with data (GroceryPlannerWeb.AnalyticsLiveTest)
     test/grocery_planner_web/live/analytics_live_test.exs:29
     Assertion with =~ failed
     code:  assert html =~ "Fruits"
     left:  "<html lang=\"en\"><head><meta charset=\"utf-8\"/><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/><meta name=\"csrf-token\" content=\"AAhRPQchBxoBBWYdMiVbOD8PDUoiND8-cabPswsHr1QUtfjIFHH-PrlL\"/><title data-default=\"GroceryPlanner\" data-suffix=\" · Phoenix Framework\">\n      Analytics\n     · Phoenix Framework</title><link phx-track-static=\"\" rel=\"stylesheet\" href=\"/assets/css/app.css\"/><script defer=\"\" phx-track-static=\"\" type=\"text/javascript\" src=\"/assets/js/app.js\"></script><script>\n      (() => {\n        const setTheme = (theme) => {\n          if (theme === \"system\") {\n            localStorage.removeItem(\"phx:theme\");\n            document.documentElement.removeAttribute(\"data-theme\");\n          } else {\n            localStorage.setItem(\"phx:theme\", theme);\n            document.documentElement.setAttribute(\"data-theme\", theme);\n          }\n        };\n        if (!document.documentElement.hasAttribute(\"data-theme\")) {\n          setTheme(localStorage.getItem(\"phx:theme\") || \"system\");\n        }\n        window.addEventListener(\"storage\", (e) => e.key === \"phx:theme\" && setTheme(e.newValue || \"system\"));\n        \n        window.addEventListener(\"phx:set-theme\", (e) => setTheme(e.target.dataset.phxTheme));\n      })();\n    </script></head><body><div id=\"phx-GIBtB0kzZ1lqGhNh\" data-phx-main=\"\" data-phx-session=\"SFMyNTY.g2gDaAJhBnQAAAAIdwJpZG0AAAAUcGh4LUdJQnRCMGt6WjFscUdoTmh3B3Nlc3Npb250AAAAAHcKcGFyZW50X3BpZHcDbmlsdwZyb3V0ZXJ3H0VsaXhpci5Hcm9jZXJ5UGxhbm5lcldlYi5Sb3V0ZXJ3BHZpZXd3JkVsaXhpci5Hcm9jZXJ5UGxhbm5lcldlYi5BbmFseXRpY3NMaXZldwhyb290X3BpZHcDbmlsdwlyb290X3ZpZXd3JkVsaXhpci5Hcm9jZXJ5UGxhbm5lcldlYi5BbmFseXRpY3NMaXZldxFsaXZlX3Nlc3Npb25fbmFtZXcHZGVmYXVsdG4GALgT2BGbAWIAAVGA.z-5IHlkmdQEcZ0EFZVRtoc-yOvxayyWo4LJXtpvmzaM\" data-phx-static=\"SFMyNTY.g2gDaAJhBnQAAAADdwJpZG0AAAAUcGh4LUdJQnRCMGt6WjFscUdoTmh3BWZsYXNodAAAAAB3CmFzc2lnbl9uZXdsAAAAAncPY3VycmVudF9hY2NvdW50dwxjdXJyZW50X3VzZXJqbgYAwhPYEZsBYgABUYA.W5APO8DY6AibPp4IQ4jPZ14p-nfgy4XTZ4Wm9n04qGE\"><div class=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50\"><header class=\"bg-white/50 backdrop-blur-sm px-4 sm:px-6 lg:px-8 border-b border-gray-200 sticky top-0 z-50\"><div class=\"max-w-7xl mx-auto\"><div class=\"flex items-center justify-between py-4\"><div class=\"flex-1\"><a href=\"/dashboard\" data-phx-link=\"redirect\" data-phx-link-state=\"push\" class=\"flex items-center gap-2\"><img src=\"/images/logo.svg\" width=\"36\" alt=\"GroceryPlanner logo\"/><span class=\"text-xl font-bold text-gray-900\">GroceryPlanner</span></a></div><!-- Desktop Navigation --><nav class=\"hidden lg:flex flex-none\"><ul class=\"flex items-center space-x-2\"><li><a href=\"/dashboard\" data-phx-link=\"redirect\" data-phx-link-state=\"push\" class=\"px-4 py-2 text-gray-700 hover:text-gray-900 font-medium transition\">\n                  Dashboard\n                </a></li><li><a href=\"/inventory\" data-phx-link=\"redirect\" data-phx-link-state=\"push\" class=\"px-4 py-2 text-gray-700 hover:text-gray-900 font-medium transition\">\n                  Inventory\n                </a></li><li><a href=\"/recipes\" data-phx-link=\"redirect\" data-phx-link-state=\"push\" class=\"px-4 py-2 text-gray-700 hover:text-gray-900 font-medium transition\">\n                  Recipes\n                </a></li><li><a href=\"/meal-planner\" data-phx-link=\"redirect\" data-phx-link-state=\"push\" class=\"px-4 py-2 text-gray-700 hover:text-gray-900 font-medium transition\">\n                  Meal Planner\n                </a></li><li><a href=\"/voting\" data-phx-link=\"redirect\" data-phx-link-state=\"push\" class=\"px-4 py-2 text-gray-700 hover:text-gray-900 font-medium transition flex items-center gap-1\">\n                  Voting\n                  \n                </a></li><li><a href=\"/shopping\" data-phx-link=\"redirect\" data-phx-link-state=\"push\" class=\"px-4 py-2 text-gray-700 hover:text-gray-900 font-medium transition\">\n                  Shopping\n                </a></li><li><a href=\"/analytics\" data-phx-link=\"redirect\" data-phx-link-state=\"push\" class=\"px-4 py-2 text-gray-700 hover:text-gray-900 font-medium transition\">\n                  Analytics\n                </a></li>" <> ...
     right: "Fruits"
     stacktrace:
       test/grocery_planner_web/live/analytics_live_test.exs:57: (test)

Categories before load: []
Categories after load: []
Category Breakdown: []
Categories before load: []
Categories after load: []
Category Breakdown: []
.
Finished in 1.6 seconds (0.00s async, 1.6s sync)
2 tests, 1 failure
